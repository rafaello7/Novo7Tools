--- upower-0.9.20/src/linux/up-device-supply.c	2013-02-01 07:15:13.000000000 +0000
+++ upower-0.9.20-new/src/linux/up-device-supply.c	2013-07-09 12:07:14.370047029 +0000
@@ -703,7 +703,7 @@
 
 	/* device is a peripheral and not providing power to the computer */
 	if (energy < 0.01f &&
-	    energy_rate < 0.01f &&
+	    /* energy_rate < 0.01f && -- changed for Allwinner A10 */
 	    energy_full < 0.01f) {
 		percentage = sysfs_get_double (native_path, "capacity");
 	}
